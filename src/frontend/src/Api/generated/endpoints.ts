/**
 * Generated by orval v6.22.1 üç∫
 * Do not edit manually.
 * FastAPI
 * OpenAPI spec version: 0.1.0
 */
import type {
    BodyPostLoginTokenPost,
    BodyUpdateUserUserPost,
    Token,
    User,
    WateringConfig,
} from './models';
import { customInstance } from '../custom-axios';

// eslint-disable-next-line
type SecondParameter<T extends (...args: any) => any> = T extends (
    config: any,
    args: infer P
) => any
    ? P
    : never;

export const getFastAPI = () => {
    /**
     * @summary Post Login
     */
    const postLogin = (
        bodyPostLoginTokenPost: BodyPostLoginTokenPost,
        options?: SecondParameter<typeof customInstance>
    ) => {
        const formUrlEncoded = new URLSearchParams();
        if (bodyPostLoginTokenPost.grant_type !== undefined) {
            formUrlEncoded.append(
                'grant_type',
                bodyPostLoginTokenPost.grant_type
            );
        }
        formUrlEncoded.append('username', bodyPostLoginTokenPost.username);
        formUrlEncoded.append('password', bodyPostLoginTokenPost.password);
        if (bodyPostLoginTokenPost.scope !== undefined) {
            formUrlEncoded.append('scope', bodyPostLoginTokenPost.scope);
        }
        if (bodyPostLoginTokenPost.client_id !== undefined) {
            formUrlEncoded.append(
                'client_id',
                bodyPostLoginTokenPost.client_id
            );
        }
        if (bodyPostLoginTokenPost.client_secret !== undefined) {
            formUrlEncoded.append(
                'client_secret',
                bodyPostLoginTokenPost.client_secret
            );
        }

        return customInstance<Token>(
            {
                url: `/token`,
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                data: formUrlEncoded,
            },
            options
        );
    };

    /**
     * @summary Get Current User Info
     */
    const getCurrentUserInfo = (
        options?: SecondParameter<typeof customInstance>
    ) => {
        return customInstance<User>(
            { url: `/users/me/`, method: 'GET' },
            options
        );
    };

    /**
     * @summary Update User
     */
    const updateUser = (
        bodyUpdateUserUserPost: BodyUpdateUserUserPost,
        options?: SecondParameter<typeof customInstance>
    ) => {
        const formUrlEncoded = new URLSearchParams();
        formUrlEncoded.append(
            'new_password',
            bodyUpdateUserUserPost.new_password
        );

        return customInstance<unknown>(
            {
                url: `/user`,
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                data: formUrlEncoded,
            },
            options
        );
    };

    /**
     * @summary Start Watering
     */
    const startWatering = (
        wateringConfig: WateringConfig,
        options?: SecondParameter<typeof customInstance>
    ) => {
        return customInstance<unknown>(
            {
                url: `/watering/start`,
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                data: wateringConfig,
            },
            options
        );
    };

    /**
     * @summary Stop Watering
     */
    const stopWatering = (options?: SecondParameter<typeof customInstance>) => {
        return customInstance<unknown>(
            { url: `/watering/stop`, method: 'GET' },
            options
        );
    };

    /**
     * @summary Proxy Video
     */
    const proxyVideo = (options?: SecondParameter<typeof customInstance>) => {
        return customInstance<unknown>(
            { url: `/camera-feed`, method: 'GET' },
            options
        );
    };

    return {
        postLogin,
        getCurrentUserInfo,
        updateUser,
        startWatering,
        stopWatering,
        proxyVideo,
    };
};
export type PostLoginResult = NonNullable<
    Awaited<ReturnType<ReturnType<typeof getFastAPI>['postLogin']>>
>;
export type GetCurrentUserInfoResult = NonNullable<
    Awaited<ReturnType<ReturnType<typeof getFastAPI>['getCurrentUserInfo']>>
>;
export type UpdateUserResult = NonNullable<
    Awaited<ReturnType<ReturnType<typeof getFastAPI>['updateUser']>>
>;
export type StartWateringResult = NonNullable<
    Awaited<ReturnType<ReturnType<typeof getFastAPI>['startWatering']>>
>;
export type StopWateringResult = NonNullable<
    Awaited<ReturnType<ReturnType<typeof getFastAPI>['stopWatering']>>
>;
export type ProxyVideoResult = NonNullable<
    Awaited<ReturnType<ReturnType<typeof getFastAPI>['proxyVideo']>>
>;
